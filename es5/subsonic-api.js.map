{"version":3,"sources":["../es6/subsonic-api.js"],"names":[],"mappings":"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","file":"subsonic-api.js","sourcesContent":["\r\nwindow.SubsonicAPI = (() => {\r\n  function md5cycle(x, k) {\r\n  let a = x[0], b = x[1], c = x[2], d = x[3];\r\n\r\n  a = ff(a, b, c, d, k[0], 7, -680876936);\r\n  d = ff(d, a, b, c, k[1], 12, -389564586);\r\n  c = ff(c, d, a, b, k[2], 17,  606105819);\r\n  b = ff(b, c, d, a, k[3], 22, -1044525330);\r\n  a = ff(a, b, c, d, k[4], 7, -176418897);\r\n  d = ff(d, a, b, c, k[5], 12,  1200080426);\r\n  c = ff(c, d, a, b, k[6], 17, -1473231341);\r\n  b = ff(b, c, d, a, k[7], 22, -45705983);\r\n  a = ff(a, b, c, d, k[8], 7,  1770035416);\r\n  d = ff(d, a, b, c, k[9], 12, -1958414417);\r\n  c = ff(c, d, a, b, k[10], 17, -42063);\r\n  b = ff(b, c, d, a, k[11], 22, -1990404162);\r\n  a = ff(a, b, c, d, k[12], 7,  1804603682);\r\n  d = ff(d, a, b, c, k[13], 12, -40341101);\r\n  c = ff(c, d, a, b, k[14], 17, -1502002290);\r\n  b = ff(b, c, d, a, k[15], 22,  1236535329);\r\n\r\n  a = gg(a, b, c, d, k[1], 5, -165796510);\r\n  d = gg(d, a, b, c, k[6], 9, -1069501632);\r\n  c = gg(c, d, a, b, k[11], 14,  643717713);\r\n  b = gg(b, c, d, a, k[0], 20, -373897302);\r\n  a = gg(a, b, c, d, k[5], 5, -701558691);\r\n  d = gg(d, a, b, c, k[10], 9,  38016083);\r\n  c = gg(c, d, a, b, k[15], 14, -660478335);\r\n  b = gg(b, c, d, a, k[4], 20, -405537848);\r\n  a = gg(a, b, c, d, k[9], 5,  568446438);\r\n  d = gg(d, a, b, c, k[14], 9, -1019803690);\r\n  c = gg(c, d, a, b, k[3], 14, -187363961);\r\n  b = gg(b, c, d, a, k[8], 20,  1163531501);\r\n  a = gg(a, b, c, d, k[13], 5, -1444681467);\r\n  d = gg(d, a, b, c, k[2], 9, -51403784);\r\n  c = gg(c, d, a, b, k[7], 14,  1735328473);\r\n  b = gg(b, c, d, a, k[12], 20, -1926607734);\r\n\r\n  a = hh(a, b, c, d, k[5], 4, -378558);\r\n  d = hh(d, a, b, c, k[8], 11, -2022574463);\r\n  c = hh(c, d, a, b, k[11], 16,  1839030562);\r\n  b = hh(b, c, d, a, k[14], 23, -35309556);\r\n  a = hh(a, b, c, d, k[1], 4, -1530992060);\r\n  d = hh(d, a, b, c, k[4], 11,  1272893353);\r\n  c = hh(c, d, a, b, k[7], 16, -155497632);\r\n  b = hh(b, c, d, a, k[10], 23, -1094730640);\r\n  a = hh(a, b, c, d, k[13], 4,  681279174);\r\n  d = hh(d, a, b, c, k[0], 11, -358537222);\r\n  c = hh(c, d, a, b, k[3], 16, -722521979);\r\n  b = hh(b, c, d, a, k[6], 23,  76029189);\r\n  a = hh(a, b, c, d, k[9], 4, -640364487);\r\n  d = hh(d, a, b, c, k[12], 11, -421815835);\r\n  c = hh(c, d, a, b, k[15], 16,  530742520);\r\n  b = hh(b, c, d, a, k[2], 23, -995338651);\r\n\r\n  a = ii(a, b, c, d, k[0], 6, -198630844);\r\n  d = ii(d, a, b, c, k[7], 10,  1126891415);\r\n  c = ii(c, d, a, b, k[14], 15, -1416354905);\r\n  b = ii(b, c, d, a, k[5], 21, -57434055);\r\n  a = ii(a, b, c, d, k[12], 6,  1700485571);\r\n  d = ii(d, a, b, c, k[3], 10, -1894986606);\r\n  c = ii(c, d, a, b, k[10], 15, -1051523);\r\n  b = ii(b, c, d, a, k[1], 21, -2054922799);\r\n  a = ii(a, b, c, d, k[8], 6,  1873313359);\r\n  d = ii(d, a, b, c, k[15], 10, -30611744);\r\n  c = ii(c, d, a, b, k[6], 15, -1560198380);\r\n  b = ii(b, c, d, a, k[13], 21,  1309151649);\r\n  a = ii(a, b, c, d, k[4], 6, -145523070);\r\n  d = ii(d, a, b, c, k[11], 10, -1120210379);\r\n  c = ii(c, d, a, b, k[2], 15,  718787259);\r\n  b = ii(b, c, d, a, k[9], 21, -343485551);\r\n\r\n  x[0] = add32(a, x[0]);\r\n  x[1] = add32(b, x[1]);\r\n  x[2] = add32(c, x[2]);\r\n  x[3] = add32(d, x[3]);\r\n\r\n  }\r\n\r\n  function cmn(q, a, b, x, s, t) {\r\n  a = add32(add32(a, q), add32(x, t));\r\n  return add32((a << s) | (a >>> (32 - s)), b);\r\n  }\r\n\r\n  function ff(a, b, c, d, x, s, t) {\r\n  return cmn((b & c) | ((~b) & d), a, b, x, s, t);\r\n  }\r\n\r\n  function gg(a, b, c, d, x, s, t) {\r\n  return cmn((b & d) | (c & (~d)), a, b, x, s, t);\r\n  }\r\n\r\n  function hh(a, b, c, d, x, s, t) {\r\n  return cmn(b ^ c ^ d, a, b, x, s, t);\r\n  }\r\n\r\n  function ii(a, b, c, d, x, s, t) {\r\n  return cmn(c ^ (b | (~d)), a, b, x, s, t);\r\n  }\r\n\r\n  function md51(s) {\r\n  txt = '';\r\n  let n = s.length,\r\n  state = [1732584193, -271733879, -1732584194, 271733878], i;\r\n  for (i=64; i<=s.length; i+=64) {\r\n  md5cycle(state, md5blk(s.substring(i-64, i)));\r\n  }\r\n  s = s.substring(i-64);\r\n  let tail = [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0];\r\n  for (i=0; i<s.length; i++)\r\n  tail[i>>2] |= s.charCodeAt(i) << ((i%4) << 3);\r\n  tail[i>>2] |= 0x80 << ((i%4) << 3);\r\n  if (i > 55) {\r\n  md5cycle(state, tail);\r\n  for (i=0; i<16; i++) tail[i] = 0;\r\n  }\r\n  tail[14] = n*8;\r\n  md5cycle(state, tail);\r\n  return state;\r\n  }\r\n\r\n  /* there needs to be support for Unicode here,\r\n   * unless we pretend that we can redefine the MD-5\r\n   * algorithm for multi-byte characters (perhaps\r\n   * by adding every four 16-bit characters and\r\n   * shortening the sum to 32 bits). Otherwise\r\n   * I suggest performing MD-5 as if every character\r\n   * was two bytes--e.g., 0040 0025 = @%--but then\r\n   * how will an ordinary MD-5 sum be matched?\r\n   * There is no way to standardize text to something\r\n   * like UTF-8 before transformation; speed cost is\r\n   * utterly prohibitive. The JavaScript standard\r\n   * itself needs to look at this: it should start\r\n   * providing access to strings as preformed UTF-8\r\n   * 8-bit unsigned value arrays.\r\n   */\r\n  function md5blk(s) { /* I figured global was faster.   */\r\n  let md5blks = [], i; /* Andy King said do it this way. */\r\n  for (i=0; i<64; i+=4) {\r\n  md5blks[i>>2] = s.charCodeAt(i)\r\n  + (s.charCodeAt(i+1) << 8)\r\n  + (s.charCodeAt(i+2) << 16)\r\n  + (s.charCodeAt(i+3) << 24);\r\n  }\r\n  return md5blks;\r\n  }\r\n\r\n  let hex_chr = '0123456789abcdef'.split('');\r\n\r\n  function rhex(n)\r\n  {\r\n  let s='', j=0;\r\n  for(; j<4; j++)\r\n  s += hex_chr[(n >> (j * 8 + 4)) & 0x0F]\r\n  + hex_chr[(n >> (j * 8)) & 0x0F];\r\n  return s;\r\n  }\r\n\r\n  function hex(x) {\r\n  for (let i=0; i<x.length; i++)\r\n  x[i] = rhex(x[i]);\r\n  return x.join('');\r\n  }\r\n\r\n  function md5(s) {\r\n  return hex(md51(s));\r\n  }\r\n\r\n  /* this function is much faster,\r\n  so if possible we use it. Some IEs\r\n  are the only ones I know of that\r\n  need the idiotic second function,\r\n  generated by an if clause.  */\r\n\r\n  function add32(a, b) {\r\n  return (a + b) & 0xFFFFFFFF;\r\n  }\r\n\r\n  if (md5('hello') != '5d41402abc4b2a76b9719d911017c592') {\r\n  function add32(x, y) {\r\n  let lsw = (x & 0xFFFF) + (y & 0xFFFF),\r\n  msw = (x >> 16) + (y >> 16) + (lsw >> 16);\r\n  return (msw << 16) | (lsw & 0xFFFF);\r\n  }\r\n  }\r\n\r\n  String.prototype.hexEncode = function () {\r\n    let r = '';\r\n    let i = 0;\r\n    let h;\r\n    while (i<this.length) {\r\n      h = this.charCodeAt(i++).toString(16);\r\n      while (h.length<2) {\r\n        h = h;\r\n      }\r\n      r += h;\r\n    }\r\n    return 'enc:'+r;\r\n  };\r\n\r\n  class SubsonicAPI {\r\n    constructor (obj) {\r\n      if (typeof obj !== 'object') {\r\n        throw new Error('Input must be an object & contain url, user, password & appName fields');\r\n        return;\r\n      }\r\n      if (obj.hasOwnProperty('ip')\r\n          && obj.hasOwnProperty('port')\r\n          && obj.hasOwnProperty('user')\r\n          && obj.hasOwnProperty('password')\r\n          && obj.hasOwnProperty('appName')\r\n          && obj.hasOwnProperty('https')\r\n        ) {\r\n          if (!obj.md5Auth) {\r\n            obj.md5Auth = true\r\n          }\r\n          this.params = {\r\n            u: obj.user,\r\n            f: 'json',\r\n            c: obj.appName\r\n          };\r\n          this._user = obj.user;\r\n          this._md5Auth = obj.md5Auth;\r\n          this._url = (() => {\r\n            let portString;\r\n            switch (obj.port) {\r\n              case (80):\r\n                portString = '';\r\n                break;\r\n              case (443):\r\n                portString = '';\r\n                break;\r\n              default:\r\n                portString = ':' + obj.port;\r\n                break;\r\n            }\r\n            if (obj.https) {\r\n              return 'https://' + obj.ip + portString;\r\n            } else {\r\n              return 'http://' + obj.ip + portString;\r\n            }\r\n          })();\r\n          this._password = obj.password;\r\n          this._fishVersion(this._url).then(version => {\r\n            this.params.v = version;\r\n            this.ping().then(res => {\r\n              if (res.status === 'ok') {\r\n                this.getUserInfo().then(userInfo => {\r\n                  let responseEvent = new CustomEvent('subsonicApi-ready', {\r\n                    detail: {\r\n                      status: res.status,\r\n                      user: userInfo\r\n                    }\r\n                  });\r\n                  document.dispatchEvent(responseEvent);\r\n                });\r\n              } else {\r\n                let responseEvent = new CustomEvent('subsonicApi-ready', {\r\n                  detail: {\r\n                    status: res.status,\r\n                    error: res.error.messsage\r\n                  }\r\n                });\r\n                document.dispatchEvent(responseEvent);\r\n              }\r\n            });\r\n          }, () => {\r\n            throw new TypeError('Error attempting to fetch subsonic version from given address');\r\n          });\r\n      } else {\r\n        throw new TypeError('Input must be an object & contain url, user, password & appName fields');\r\n        return;\r\n      }\r\n    }\r\n\r\n\r\n    /**\r\n     * conver object to url query string\r\n     */\r\n    _toQueryString (params) {\r\n      let r = [];\r\n      for (let n in params) {\r\n        n = encodeURIComponent(n);\r\n        r.push(params[n] === null ? n : (n + '=' + encodeURIComponent(params[n])));\r\n      }\r\n      return r.join('&');\r\n    }\r\n\r\n\r\n    /**\r\n     * return subsonic api url\r\n     *\r\n     * @param {String} method\r\n     * @param {Object} options\r\n     */\r\n    _buildUrl (method, options) {\r\n      if (options !== null && typeof options === 'object') {\r\n        options = '&' + this._toQueryString(options);\r\n      }\r\n      if (!options) {\r\n        options = '';\r\n      }\r\n\r\n      if (this._versionCompare(this.params.v, '1.13.0') >= 0 && this._md5Auth) {\r\n        if (this.params.p) {\r\n          delete this.params.p;\r\n        }\r\n        this.params.s = this._makeSalt(6);\r\n        this.params.t = md5(this._password + this.params.s);\r\n        return this._url + '/rest/' + method + '.view?' + this._toQueryString(this.params) + options;\r\n      } else {\r\n        if (this.params.t) {\r\n          delete this.params.t;\r\n        }\r\n        if (this.params.s) {\r\n          delete this.params.s;\r\n        }\r\n        this.params.p = this._password.hexEncode();\r\n        return this._url + '/rest/' + method + '.view?' + this._toQueryString(this.params) + options;\r\n      }\r\n    }\r\n\r\n\r\n    /**\r\n     * send xmlHttpRequest to the given url\r\n     *\r\n     * @param {String} url\r\n     */\r\n    _xhr (url, dataType) {\r\n      return new Promise((resolve, reject) => {\r\n        let xhr = new XMLHttpRequest();\r\n        xhr.open(\"GET\", url, true);\r\n        xhr.responseType = dataType || 'json';\r\n        xhr.onload = resolve;\r\n        xhr.onerror = reject;\r\n        xhr.send();\r\n        this._lastXhr = xhr;\r\n      });\r\n    }\r\n\r\n\r\n    /**\r\n     * generates a string of the given length\r\n     *\r\n     * @param {Number} length\r\n     */\r\n    _makeSalt (length) {\r\n      let text = \"\";\r\n      let possible = \"ABCD/EFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n      for( let i=0; i < length; i++ )\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n      return text;\r\n    }\r\n\r\n\r\n    /**\r\n     * ping given url to detect api version\r\n     *\r\n     * @param {String} url\r\n     */\r\n    _fishVersion (url) {\r\n      return new Promise((resolve, reject) => {\r\n        this._xhr(url + '/rest/ping.view?f=json').then((e) => {\r\n          let res = e.target.response['subsonic-response'];\r\n          resolve(res.version);\r\n        }, reject);\r\n      });\r\n    }\r\n\r\n\r\n    /**\r\n     * compare 2 api versions ** I did not write this function **\r\n     */\r\n    _versionCompare (v1, v2, options) {\r\n      let lexicographical = options && options.lexicographical,\r\n        zeroExtend = options && options.zeroExtend,\r\n        v1parts = v1.split('.'),\r\n        v2parts = v2.split('.');\r\n      function isValidPart(x) {\r\n        return (lexicographical ? /^\\d+[A-Za-z]*$/ : /^\\d+$/).test(x);\r\n      }\r\n      if (!v1parts.every(isValidPart) || !v2parts.every(isValidPart)) {\r\n        return NaN;\r\n      }\r\n      if (zeroExtend) {\r\n        while (v1parts.length < v2parts.length) v1parts.push(\"0\");\r\n        while (v2parts.length < v1parts.length) v2parts.push(\"0\");\r\n      }\r\n      if (!lexicographical) {\r\n        v1parts = v1parts.map(Number);\r\n        v2parts = v2parts.map(Number);\r\n      }\r\n      for (let i = 0; i < v1parts.length; ++i) {\r\n        if (v2parts.length == i) {\r\n          return 1;\r\n        }\r\n        if (v1parts[i] == v2parts[i]) {\r\n          continue;\r\n        }\r\n        else if (v1parts[i] > v2parts[i]) {\r\n          return 1;\r\n        }\r\n        else {\r\n          return -1;\r\n        }\r\n      }\r\n      if (v1parts.length != v2parts.length) {\r\n        return -1;\r\n      }\r\n      return 0;\r\n    }\r\n\r\n\r\n    /**\r\n     * Get details about the user, including which authorization roles and folder access it has.\r\n     * Can be used to enable/disable certain features in the client, such as jukebox control.\r\n     */\r\n    getUserInfo () {\r\n      return new Promise((resolve, reject) => {\r\n        let url = this._buildUrl('getUser', {\r\n          username: this._user\r\n        });\r\n        this._xhr(url).then(e => {\r\n          this.userPermissions = e.target.response['subsonic-response'].user;\r\n          resolve(this.userPermissions);\r\n        })\r\n      });\r\n    }\r\n\r\n\r\n    /**\r\n     * abort the last api call\r\n     */\r\n    abort () {\r\n      if (this._lastXhr) {\r\n        this._lastXhr.abort();\r\n      }\r\n    }\r\n\r\n\r\n    /**\r\n     * Used to test connectivity with the server. Takes no extra parameters.\r\n     */\r\n    ping () {\r\n      return new Promise((resolve, reject) => {\r\n        let url = this._buildUrl('ping');\r\n        this._xhr(url).then(e => {\r\n          let res = e.target.response['subsonic-response'];\r\n          resolve(res);\r\n        }, (e) => {\r\n          reject(e);\r\n        });\r\n      });\r\n    }\r\n\r\n    /**\r\n     *  without ID: Returns all playlists a user is allowed to play.\r\n     * with ID: Returns a listing of files in a saved playlist.\r\n     *\r\n     * @param {Number} id\r\n     */\r\n    getPlaylist (id) {\r\n      return new Promise((resolve, reject) => {\r\n        let url = this._buildUrl((() => {\r\n          if (id) {\r\n            return 'getPlaylist';\r\n          } else {\r\n            return 'getPlaylists';\r\n          }\r\n        })(), (() => {\r\n          if (id) {\r\n            return {\r\n              id: id\r\n            };\r\n          } else {\r\n            return;\r\n          }\r\n        })());\r\n        this._xhr(url).then(e => {\r\n          let res = e.target.response['subsonic-response'].playlists;\r\n          resolve((() => {\r\n            if (res.hasOwnProperty('playlist')) {\r\n              return res.playlist;\r\n            } else {\r\n              return [];\r\n            }\r\n          })());\r\n        }, reject);\r\n      });\r\n    }\r\n\r\n\r\n    /**\r\n     * Returns all configured top-level music folders. Takes no extra parameters.\r\n     */\r\n    getMusicFolders () {\r\n      return new Promise((resolve, reject) => {\r\n        let url = this._buildUrl('getMusicFolders');\r\n        this._xhr(url).then(e => {\r\n          let res = e.target.response['subsonic-response'].musicFolders.musicFolder;\r\n          resolve(res);\r\n        }, reject);\r\n      });\r\n    }\r\n\r\n\r\n    /**\r\n     * Returns an indexed structure of all artists.\r\n     *\r\n     * @param {Number} id\r\n     */\r\n    getIndexes (id) {\r\n      return new Promise((resolve, reject) => {\r\n        let url = this._buildUrl('getIndexes', (id => {\r\n          if (id) {\r\n            return {\r\n              musicFolderId: id\r\n            };\r\n          } else {\r\n            return;\r\n          }\r\n        })(id));\r\n        this._xhr(url).then(e => {\r\n          let res =  e.target.response['subsonic-response'].indexes.index;\r\n          resolve(res);\r\n        }, reject);\r\n      });\r\n    }\r\n\r\n\r\n    /**\r\n     * Returns a listing of all files in a music directory.\r\n     * Typically used to get list of albums for an artist, or list of songs for an album.\r\n     *\r\n     * @param {Number} id\r\n     */\r\n    getMusicDirectory (id) {\r\n      return new Promise((resolve, reject) => {\r\n        if (!id) {\r\n          throw new Error('id required');\r\n          return;\r\n        }\r\n        let url = this._buildUrl('getMusicDirectory', {\r\n          id: id\r\n        });\r\n        this._xhr(url).then(e => {\r\n          let res = e.target.response['subsonic-response'].directory;\r\n          resolve(res);\r\n        }, reject);\r\n      });\r\n    }\r\n\r\n\r\n    /**\r\n     * without id: Similar to getIndexes, but organizes music according to ID3 tags.\r\n     * with id: Returns details for an artist, including a list of albums. This method organizes music according to ID3 tags.\r\n     *\r\n     * @param {Number} id\r\n     */\r\n    getArtist (id) {\r\n      return new Promise((resolve, reject) => {\r\n        let url = this._buildUrl((id => {\r\n          if (id) {\r\n            return 'getArtist';\r\n          } else {\r\n            return 'getArtists';\r\n          }\r\n        })(id), (id => {\r\n          if (id) {\r\n            return {\r\n              id: id\r\n            };\r\n          } else {\r\n            return;\r\n          }\r\n        })(id));\r\n        this._xhr(url).then(e => {\r\n          let res = ((id, e) => {\r\n            if (id) {\r\n              let res = e.target.response['subsonic-response'].artist;\r\n              res.album.sort(function sorting(a, b) {\r\n                return a.discNumber - b.discNumber || a.track - b.track;\r\n              });\r\n              return res;\r\n            } else {\r\n              return e.target.response['subsonic-response'].artists.index;\r\n            }\r\n          })(id, e);\r\n          resolve(res);\r\n        });\r\n      });\r\n    }\r\n\r\n\r\n    /**\r\n     * Streams a given media file.\r\n     *\r\n     * @param {Number} id\r\n     * @param {Number} bitRate\r\n     */\r\n    streamUrl (id, bitRate) {\r\n      if (!id) {\r\n        throw new Error('id required');\r\n        return;\r\n      }\r\n      return this._buildUrl('stream', {\r\n        id: id,\r\n        maxBitRate: bitRate || 320,\r\n        estimateContentLength: true\r\n      });\r\n    }\r\n\r\n\r\n    /**\r\n     * Downloads a given media file.\r\n     * Similar to stream, but this method returns the original media data without transcoding or downsampling.\r\n     *\r\n     * @param {Number} id\r\n     */\r\n    downloadUrl (id) {\r\n      if (!id) {\r\n        throw new Error('id required');\r\n        return;\r\n      }\r\n      return this._buildUrl('download', {\r\n        id: id\r\n      });\r\n    }\r\n\r\n\r\n    /**\r\n     * Returns top songs for the given artist, using data from last.fm.\r\n     *\r\n     * @param {Number} count\r\n     * @param {String} artist\r\n     */\r\n    getTopSongs (artist, count) {\r\n      return new Promise((resolve, reject) => {\r\n        if (!artist) throw new Error('artist name is required');\r\n        let url = this._buildUrl('getTopSongs', {\r\n          count: count || 50,\r\n          artist: artist\r\n        });\r\n        this._xhr(url).then(e => {\r\n          let res = e.target.response['subsonic-response'].topSongs.song;\r\n          resolve(res);\r\n        }, reject);\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Returns all genres.\r\n     */\r\n    getGenres () {\r\n      return new Promise((resolve, reject) => {\r\n        let url = this._buildUrl('getGenres');\r\n        this._xhr(url).then(e => {\r\n          let res = e.target.response['subsonic-response'].genres.genre;\r\n          resolve(res);\r\n        }, reject);\r\n      });\r\n    }\r\n\r\n\r\n    /**\r\n     * Returns details for an album, including a list of songs.\r\n     * This method organizes music according to ID3 tags.\r\n     *\r\n     * @param {Number} id\r\n     */\r\n    getAlbum (id) {\r\n      return new Promise((resolve, reject) => {\r\n        if (!id) {\r\n          throw new Error('id required');\r\n          return;\r\n        }\r\n        let url = this._buildUrl('getAlbum', {\r\n          id: id\r\n        });\r\n        this._xhr(url).then(e => {\r\n          let res = e.target.response['subsonic-response'].album;\r\n          resolve(res);\r\n        }, reject);\r\n      });\r\n    }\r\n\r\n\r\n    /**\r\n     * Returns a list of random, newest, highest rated etc. albums.\r\n     * Similar to the album lists on the home page of the Subsonic web interface.\r\n     *\r\n     * @param {String} sort\r\n     * @param {Number} count\r\n     * @param {Number} offset\r\n     * @param {Number} folderId\r\n     */\r\n    getAlbumList (sort, count, offset, folderId) {\r\n      return new Promise((resolve, reject) => {\r\n        if (sort) {\r\n          let reqObj = {\r\n            size: count || 60,\r\n            offset: offset || 0,\r\n            type: sort\r\n          };\r\n          if (folderId) reqObj.musicFolderId = folderId;\r\n          let url = this._buildUrl('getAlbumList', reqObj);\r\n          this._xhr(url).then(e => {\r\n            let res = e.target.response['subsonic-response'].albumList.album;\r\n            resolve(res);\r\n          }, reject);\r\n        } else {\r\n          throw new Error('sort method required');\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n\r\n    /**\r\n     * Similar to getAlbumList, but organizes music according to ID3 tags.\r\n     *\r\n     * @param {String} sort\r\n     * @param {Number} count\r\n     * @param {Number} offset\r\n     * @param {Number} folderId\r\n     */\r\n    getAlbumList2 (sort, count, offset, folderId) {\r\n      return new Promise((resolve, reject) => {\r\n        if (sort) {\r\n          let reqObj = {\r\n            size: count || 60,\r\n            offset: offset || 0,\r\n            type: sort\r\n          };\r\n          if (folderId) reqObj.musicFolderId = folderId;\r\n          let url = this._buildUrl('getAlbumList2', reqObj);\r\n          this._xhr(url).then(e => {\r\n            let res = e.target.response['subsonic-response'].albumList2.album;\r\n            resolve(res);\r\n          }, reject);\r\n        } else {\r\n          throw new Error('sort method required');\r\n        }\r\n      });\r\n    }\r\n\r\n\r\n    /**\r\n     *  Returns artist info with biography, image URLs and similar artists, using data from last.fm.\r\n     *\r\n     * @param {Number} id\r\n     * @param {Number} count\r\n     */\r\n    getArtistInfo (id, count) {\r\n      return new Promise((resolve, reject) => {\r\n        if (!id) {\r\n          let err = new Error('id required');\r\n          throw err;\r\n          reject(err);\r\n          return;\r\n        }\r\n        let url = this._buildUrl('getArtistInfo', {\r\n          id: id,\r\n          count: count || 60\r\n        });\r\n        this._xhr(url).then(e => {\r\n          let res = e.target.response['subsonic-response'].artistInfo;\r\n          resolve(res);\r\n        }, reject);\r\n      });\r\n    }\r\n\r\n\r\n    /**\r\n     * Similar to getArtistInfo, but organizes music according to ID3 tags.\r\n     *\r\n     * @param {Number} id\r\n     * @param {Number} count\r\n     */\r\n    getArtistInfo2 (id, count) {\r\n      return new Promise((resolve, reject) => {\r\n        if (!id) {\r\n          let err = new Error('id required');\r\n          throw err;\r\n          reject(err);\r\n          return;\r\n        };\r\n        let url = this._buildUrl('getArtistInfo2', {\r\n          id: id,\r\n          count: count || 60\r\n        });\r\n        this._xhr(url).then(e => {\r\n          let res = e.target.response['subsonic-response'].artistInfo2;\r\n          resolve(res);\r\n        }, reject);\r\n      });\r\n    }\r\n\r\n\r\n    /**\r\n     *  Returns a random collection of songs from the given artist and similar artists, using data from last.fm.\r\n     *  Typically used for artist radio features.\r\n     *\r\n     * @param {Number} id\r\n     * @param {Number} count\r\n     */\r\n    getSimilarSongs (id, count) {\r\n      return new Promise((resolve, reject) => {\r\n        if (!id) {\r\n          let err = new Error('id required');\r\n          throw err;\r\n          reject(err);\r\n          return;\r\n        }\r\n        let url = this._buildUrl('getSimilarSongs', {\r\n          id: id,\r\n          count: count || 60\r\n        });\r\n        this._xhr(url).then(e => {\r\n          let res = e.target.response['subsonic-response'].similarSongs;\r\n          resolve(res);\r\n        }, reject);\r\n      });\r\n    }\r\n\r\n\r\n    /**\r\n     * Similar to getSimilarSongs, but organizes music according to ID3 tags.\r\n     *\r\n     * @param {Number} id\r\n     * @param {Number} count\r\n     */\r\n    getSimilarSongs2 (id, count) {\r\n      return new Promise((resolve, reject) => {\r\n        if (!id) {\r\n          let err = new Error('id required');\r\n          throw err;\r\n          reject(err);\r\n          return;\r\n        }\r\n        let url = this._buildUrl('getSimilarSongs2', {\r\n          id: id,\r\n          count: count || 60\r\n        });\r\n        this._xhr(url).then(e => {\r\n          let res = e.target.response['subsonic-response'].similarSongs2;\r\n          resolve(res);\r\n        }, reject);\r\n      });\r\n    }\r\n\r\n\r\n    /**\r\n     * Returns details for a song.\r\n     *\r\n     * @param {Number} id\r\n     */\r\n    getSong (id) {\r\n      return new Promise((resolve, reject) => {\r\n        if (!id) {\r\n          let err = new Error('id required');\r\n          throw err;\r\n          reject(err);\r\n          return;\r\n        }\r\n        let url = this._buildUrl('getSong', {\r\n          id: id\r\n        });\r\n        this._xhr(url).then(e => {\r\n          let res = e.target.response['subsonic-response'];\r\n          resolve(res);\r\n        }, reject);\r\n      });\r\n    }\r\n\r\n\r\n    /**\r\n     * Returns starred songs, albums and artists.\r\n     *\r\n     * @param {Number} folderId\r\n     */\r\n    getStarred (folderId) {\r\n      return new Promise((resolve, reject) => {\r\n        let url = this._buildUrl('getStarred', (() => {\r\n          if (folderId) {\r\n            return {\r\n              musicFolderId: folderId\r\n            };\r\n          } else {\r\n            return;\r\n          }\r\n        })());\r\n        this._xhr(url).then(e => {\r\n          let res = e.target.resolve['subsonic-response'].starred;\r\n          resolve(res);\r\n        }, reject);\r\n      });\r\n    }\r\n\r\n\r\n    /**\r\n     * Similar to getStarred, but organizes music according to ID3 tags.\r\n     *\r\n     * @param {Number} folderId\r\n     */\r\n    getStarred2 (folderId) {\r\n      return new Promise((resolve, reject) => {\r\n        let url = this._buildUrl('getStarred2', (() => {\r\n          if (folderId) {\r\n            return {\r\n              musicFolderId: folderId\r\n            };\r\n          } else {\r\n            return;\r\n          }\r\n        })());\r\n        this._xhr(url).then(e => {\r\n          let res = e.target.resolve['subsonic-response'].starred2;\r\n          resolve(res);\r\n        }, reject);\r\n      });\r\n    }\r\n\r\n\r\n    /**\r\n     * Returns cover art as a blob\r\n     *\r\n     * @param {Number} id\r\n     * @param {Number} size - max image size in px\r\n     */\r\n    getCoverArt (id, size) {\r\n      return new Promise((resolve, reject) => {\r\n        if (!id) {\r\n          let err = new Error('id required');\r\n          throw err;\r\n          reject(err);\r\n          return;\r\n        }\r\n        let url = this._buildUrl('getCoverArt', {\r\n          id: id,\r\n          size: size || 500\r\n        });\r\n        this._xhr(url, 'blob').then(e => {\r\n          let blob = e.target.response;\r\n          resolve(blob);\r\n        }, reject);\r\n      });\r\n    }\r\n\r\n\r\n    /**\r\n     * Attaches a star to a song, album or artist.\r\n     *\r\n     * @param {Number} id\r\n     */\r\n    star (id) {\r\n      return new Promise((resolve, reject) => {\r\n        if (!id) {\r\n          let err = new Error('id required');\r\n          throw err;\r\n          reject(err);\r\n          return;\r\n        }\r\n        let url = this._buildUrl('star', {\r\n          id: id\r\n        });\r\n        this._xhr(url).then(e => {\r\n          let res = e.target.response['subsonic-response'];\r\n          resolve(res);\r\n        }, reject);\r\n      });\r\n    }\r\n\r\n\r\n    /**\r\n     * Removes the star from a song, album or artist.\r\n     *\r\n     * @param {Number} id\r\n     */\r\n    unstar (id) {\r\n      return new Promise((resolve, reject) => {\r\n        if (!id) {\r\n          let err = new Error('id required');\r\n          throw err;\r\n          reject(err);\r\n          return;\r\n        }\r\n        let url = this._buildUrl('unstar', {\r\n          id: id\r\n        });\r\n        this._xhr(url).then(e => {\r\n          let res = e.target.response['subsonic-response'];\r\n          resolve(res);\r\n        }, reject);\r\n      });\r\n    }\r\n\r\n\r\n    /**\r\n     * Sets the rating for a music file.\r\n     *\r\n     * @param {Number} id\r\n     * @param {Number} rating\r\n     */\r\n    setRating (id, rating) {\r\n      return new Promise((resolve, reject) => {\r\n        if (!id) {\r\n          let err = new Error('id required');\r\n          throw err;\r\n          reject(err);\r\n          return;\r\n        }\r\n        let url = this._buildUrl('setRating', {\r\n          id: id,\r\n          rating: rating\r\n        });\r\n        this._xhr(url).then(e => {\r\n          let res = e.target. response['subsonic-response'];\r\n          resolve(res);\r\n        }, reject);\r\n      });\r\n    }\r\n\r\n\r\n    /**\r\n     * \"Scrobbles\" a given music file on last.fm.\r\n     * Requires that the user has configured his/her last.fm credentials on the Subsonic server (Settings > Personal).\r\n     *\r\n     * @param {Number} id\r\n     */\r\n    scrobble (id) {\r\n      return new Promise((resolve, reject) => {\r\n        if (!id) {\r\n          let err = new Error('id required');\r\n          throw err;\r\n          reject(err);\r\n          return;\r\n        }\r\n        let url = this._buildUrl('scrobble', {\r\n          id: id,\r\n          time: new Date().getTime()\r\n        });\r\n        this._xhr(url).then(e => {\r\n          let res = e.target.response['subsonic-response'];\r\n          resolve(res);\r\n        }, reject);\r\n      });\r\n    }\r\n\r\n\r\n    /**\r\n     * Returns a listing of files matching the given search criteria. Supports paging through the result.\r\n     *\r\n     * @param {Object} obj - a object wihsearch params\r\n     */\r\n    search (obj) {\r\n      return new Promise((resolve, reject) => {\r\n        if (!obj) {\r\n          let err = new Error('search object required');\r\n          reject(err);\r\n          return;\r\n        }\r\n        let url = this._buildUrl('search', obj);\r\n        this._xhr(url).then(e => {\r\n          let res = e.target.response['subsonic-response'].searchResult.match;\r\n          resolve(res);\r\n        }, reject);\r\n      });\r\n    }\r\n\r\n\r\n    /**\r\n     * Returns albums, artists and songs matching the given search criteria. Supports paging through the result.\r\n     *\r\n     * @param {Object} obj - a object wihsearch params\r\n     */\r\n    search2 (obj) {\r\n      return new Promise((resolve, reject) => {\r\n        if (!obj) {\r\n          let err = new Error('search object required');\r\n          reject(err);\r\n          return;\r\n        }\r\n        let url = this._buildUrl('search2', obj);\r\n        this._xhr(url).then(e => {\r\n          let res = e.target.response['subsonic-response'].search2Result.match;\r\n          resolve(res);\r\n        }, reject);\r\n      });\r\n    }\r\n\r\n\r\n    /**\r\n     * \r\n     *\r\n     * @param {Object} obj - a object wihsearch params\r\n     */\r\n    search3 (obj) {\r\n      return new Promise((resolve, reject) => {\r\n        if (!obj) {\r\n          let err = new Error('search object required');\r\n          reject(err);\r\n          return;\r\n        }\r\n        let url = this._buildUrl('search3', obj);\r\n        this._xhr(url).then(e => {\r\n          let res = e.target.response['subsonic-response'].search3Result.match;\r\n          resolve(res);\r\n        }, reject);\r\n      });\r\n    }\r\n  }\r\n\r\n  return SubsonicAPI;\r\n})();\r\n"]}