{"version":3,"sources":["../es6/subsonic-api.js"],"names":[],"mappings":"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","file":"subsonic-api.js","sourcesContent":["\nwindow.SubsonicAPI = (() => {\n  function md5cycle(x, k) {\n  let a = x[0], b = x[1], c = x[2], d = x[3];\n\n  a = ff(a, b, c, d, k[0], 7, -680876936);\n  d = ff(d, a, b, c, k[1], 12, -389564586);\n  c = ff(c, d, a, b, k[2], 17,  606105819);\n  b = ff(b, c, d, a, k[3], 22, -1044525330);\n  a = ff(a, b, c, d, k[4], 7, -176418897);\n  d = ff(d, a, b, c, k[5], 12,  1200080426);\n  c = ff(c, d, a, b, k[6], 17, -1473231341);\n  b = ff(b, c, d, a, k[7], 22, -45705983);\n  a = ff(a, b, c, d, k[8], 7,  1770035416);\n  d = ff(d, a, b, c, k[9], 12, -1958414417);\n  c = ff(c, d, a, b, k[10], 17, -42063);\n  b = ff(b, c, d, a, k[11], 22, -1990404162);\n  a = ff(a, b, c, d, k[12], 7,  1804603682);\n  d = ff(d, a, b, c, k[13], 12, -40341101);\n  c = ff(c, d, a, b, k[14], 17, -1502002290);\n  b = ff(b, c, d, a, k[15], 22,  1236535329);\n\n  a = gg(a, b, c, d, k[1], 5, -165796510);\n  d = gg(d, a, b, c, k[6], 9, -1069501632);\n  c = gg(c, d, a, b, k[11], 14,  643717713);\n  b = gg(b, c, d, a, k[0], 20, -373897302);\n  a = gg(a, b, c, d, k[5], 5, -701558691);\n  d = gg(d, a, b, c, k[10], 9,  38016083);\n  c = gg(c, d, a, b, k[15], 14, -660478335);\n  b = gg(b, c, d, a, k[4], 20, -405537848);\n  a = gg(a, b, c, d, k[9], 5,  568446438);\n  d = gg(d, a, b, c, k[14], 9, -1019803690);\n  c = gg(c, d, a, b, k[3], 14, -187363961);\n  b = gg(b, c, d, a, k[8], 20,  1163531501);\n  a = gg(a, b, c, d, k[13], 5, -1444681467);\n  d = gg(d, a, b, c, k[2], 9, -51403784);\n  c = gg(c, d, a, b, k[7], 14,  1735328473);\n  b = gg(b, c, d, a, k[12], 20, -1926607734);\n\n  a = hh(a, b, c, d, k[5], 4, -378558);\n  d = hh(d, a, b, c, k[8], 11, -2022574463);\n  c = hh(c, d, a, b, k[11], 16,  1839030562);\n  b = hh(b, c, d, a, k[14], 23, -35309556);\n  a = hh(a, b, c, d, k[1], 4, -1530992060);\n  d = hh(d, a, b, c, k[4], 11,  1272893353);\n  c = hh(c, d, a, b, k[7], 16, -155497632);\n  b = hh(b, c, d, a, k[10], 23, -1094730640);\n  a = hh(a, b, c, d, k[13], 4,  681279174);\n  d = hh(d, a, b, c, k[0], 11, -358537222);\n  c = hh(c, d, a, b, k[3], 16, -722521979);\n  b = hh(b, c, d, a, k[6], 23,  76029189);\n  a = hh(a, b, c, d, k[9], 4, -640364487);\n  d = hh(d, a, b, c, k[12], 11, -421815835);\n  c = hh(c, d, a, b, k[15], 16,  530742520);\n  b = hh(b, c, d, a, k[2], 23, -995338651);\n\n  a = ii(a, b, c, d, k[0], 6, -198630844);\n  d = ii(d, a, b, c, k[7], 10,  1126891415);\n  c = ii(c, d, a, b, k[14], 15, -1416354905);\n  b = ii(b, c, d, a, k[5], 21, -57434055);\n  a = ii(a, b, c, d, k[12], 6,  1700485571);\n  d = ii(d, a, b, c, k[3], 10, -1894986606);\n  c = ii(c, d, a, b, k[10], 15, -1051523);\n  b = ii(b, c, d, a, k[1], 21, -2054922799);\n  a = ii(a, b, c, d, k[8], 6,  1873313359);\n  d = ii(d, a, b, c, k[15], 10, -30611744);\n  c = ii(c, d, a, b, k[6], 15, -1560198380);\n  b = ii(b, c, d, a, k[13], 21,  1309151649);\n  a = ii(a, b, c, d, k[4], 6, -145523070);\n  d = ii(d, a, b, c, k[11], 10, -1120210379);\n  c = ii(c, d, a, b, k[2], 15,  718787259);\n  b = ii(b, c, d, a, k[9], 21, -343485551);\n\n  x[0] = add32(a, x[0]);\n  x[1] = add32(b, x[1]);\n  x[2] = add32(c, x[2]);\n  x[3] = add32(d, x[3]);\n\n  }\n\n  function cmn(q, a, b, x, s, t) {\n  a = add32(add32(a, q), add32(x, t));\n  return add32((a << s) | (a >>> (32 - s)), b);\n  }\n\n  function ff(a, b, c, d, x, s, t) {\n  return cmn((b & c) | ((~b) & d), a, b, x, s, t);\n  }\n\n  function gg(a, b, c, d, x, s, t) {\n  return cmn((b & d) | (c & (~d)), a, b, x, s, t);\n  }\n\n  function hh(a, b, c, d, x, s, t) {\n  return cmn(b ^ c ^ d, a, b, x, s, t);\n  }\n\n  function ii(a, b, c, d, x, s, t) {\n  return cmn(c ^ (b | (~d)), a, b, x, s, t);\n  }\n\n  function md51(s) {\n  txt = '';\n  let n = s.length,\n  state = [1732584193, -271733879, -1732584194, 271733878], i;\n  for (i=64; i<=s.length; i+=64) {\n  md5cycle(state, md5blk(s.substring(i-64, i)));\n  }\n  s = s.substring(i-64);\n  let tail = [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0];\n  for (i=0; i<s.length; i++)\n  tail[i>>2] |= s.charCodeAt(i) << ((i%4) << 3);\n  tail[i>>2] |= 0x80 << ((i%4) << 3);\n  if (i > 55) {\n  md5cycle(state, tail);\n  for (i=0; i<16; i++) tail[i] = 0;\n  }\n  tail[14] = n*8;\n  md5cycle(state, tail);\n  return state;\n  }\n\n  /* there needs to be support for Unicode here,\n   * unless we pretend that we can redefine the MD-5\n   * algorithm for multi-byte characters (perhaps\n   * by adding every four 16-bit characters and\n   * shortening the sum to 32 bits). Otherwise\n   * I suggest performing MD-5 as if every character\n   * was two bytes--e.g., 0040 0025 = @%--but then\n   * how will an ordinary MD-5 sum be matched?\n   * There is no way to standardize text to something\n   * like UTF-8 before transformation; speed cost is\n   * utterly prohibitive. The JavaScript standard\n   * itself needs to look at this: it should start\n   * providing access to strings as preformed UTF-8\n   * 8-bit unsigned value arrays.\n   */\n  function md5blk(s) { /* I figured global was faster.   */\n  let md5blks = [], i; /* Andy King said do it this way. */\n  for (i=0; i<64; i+=4) {\n  md5blks[i>>2] = s.charCodeAt(i)\n  + (s.charCodeAt(i+1) << 8)\n  + (s.charCodeAt(i+2) << 16)\n  + (s.charCodeAt(i+3) << 24);\n  }\n  return md5blks;\n  }\n\n  let hex_chr = '0123456789abcdef'.split('');\n\n  function rhex(n)\n  {\n  let s='', j=0;\n  for(; j<4; j++)\n  s += hex_chr[(n >> (j * 8 + 4)) & 0x0F]\n  + hex_chr[(n >> (j * 8)) & 0x0F];\n  return s;\n  }\n\n  function hex(x) {\n  for (let i=0; i<x.length; i++)\n  x[i] = rhex(x[i]);\n  return x.join('');\n  }\n\n  function md5(s) {\n  return hex(md51(s));\n  }\n\n  /* this function is much faster,\n  so if possible we use it. Some IEs\n  are the only ones I know of that\n  need the idiotic second function,\n  generated by an if clause.  */\n\n  function add32(a, b) {\n  return (a + b) & 0xFFFFFFFF;\n  }\n\n  if (md5('hello') != '5d41402abc4b2a76b9719d911017c592') {\n  function add32(x, y) {\n  let lsw = (x & 0xFFFF) + (y & 0xFFFF),\n  msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return (msw << 16) | (lsw & 0xFFFF);\n  }\n  }\n\n  String.prototype.hexEncode = function () {\n    let r = '';\n    let i = 0;\n    let h;\n    while (i<this.length) {\n      h = this.charCodeAt(i++).toString(16);\n      while (h.length<2) {\n        h = h;\n      }\n      r += h;\n    }\n    return 'enc:'+r;\n  };\n\n  class SubsonicAPI {\n    constructor (obj) {\n      if (typeof obj !== 'object') {\n        throw new Error('Input must be an object & contain url, user, password & appName fields');\n        return;\n      }\n      if (obj.hasOwnProperty('ip')\n          && obj.hasOwnProperty('port')\n          && obj.hasOwnProperty('user')\n          && obj.hasOwnProperty('password')\n          && obj.hasOwnProperty('appName')\n          && obj.hasOwnProperty('https')\n        ) {\n          if (!obj.md5Auth) {\n            obj.md5Auth = true\n          }\n          this.params = {\n            u: obj.user,\n            f: 'json',\n            c: obj.appName\n          };\n          this._user = obj.user;\n          this._md5Auth = obj.md5Auth;\n          this._url = (() => {\n            if (obj.https) {\n              return 'https://' + obj.ip + ':' + obj.port;\n            } else {\n              return 'http://' + obj.ip + ':' + obj.port;\n            }\n          })();\n          this._password = obj.password;\n          this._fishVersion(this._url).then(version => {\n            this.params.v = version;\n            this.ping().then(res => {\n              if (res.status === 'ok') {\n                this.getUserInfo().then(userInfo => {\n                  let responseEvent = new CustomEvent('subsonicApi-ready', {\n                    detail: {\n                      status: res.status,\n                      user: userInfo\n                    }\n                  });\n                  document.dispatchEvent(responseEvent);\n                });\n              } else {\n                let responseEvent = new CustomEvent('subsonicApi-ready', {\n                  detail: {\n                    status: res.status,\n                    error: res.error.messsage\n                  }\n                });\n                document.dispatchEvent(responseEvent);\n              }\n            });\n          }, () => {\n            throw new TypeError('Error attempting to fetch subsonic version from given address');\n          });\n      } else {\n        throw new TypeError('Input must be an object & contain url, user, password & appName fields');\n        return;\n      }\n    }\n\n\n    /**\n     * conver object to url query string\n     */\n    _toQueryString (params) {\n      let r = [];\n      for (let n in params) {\n        n = encodeURIComponent(n);\n        r.push(params[n] === null ? n : (n + '=' + encodeURIComponent(params[n])));\n      }\n      return r.join('&');\n    }\n\n\n    /**\n     * return subsonic api url\n     *\n     * @param {String} method\n     * @param {Object} options\n     */\n    _buildUrl (method, options) {\n      if (options !== null && typeof options === 'object') {\n        options = '&' + this._toQueryString(options);\n      }\n      if (!options) {\n        options = '';\n      }\n\n      if (this._versionCompare(this.params.v, '1.13.0') >= 0 && this._md5Auth) {\n        if (this.params.p) {\n          delete this.params.p;\n        }\n        this.params.s = this._makeSalt(6);\n        this.params.t = md5(this._password + this.params.s);\n        return this._url + '/rest/' + method + '.view?' + this._toQueryString(this.params) + options;\n      } else {\n        if (this.params.t) {\n          delete this.params.t;\n        }\n        if (this.params.s) {\n          delete this.params.s;\n        }\n        this.params.p = this._password.hexEncode();\n        return this._url + '/rest/' + method + '.view?' + this._toQueryString(this.params) + options;\n      }\n    }\n\n\n    /**\n     * send xmlHttpRequest to the given url\n     *\n     * @param {String} url\n     */\n    _xhr (url) {\n      return new Promise((resolve, reject) => {\n        let xhr = new XMLHttpRequest();\n        xhr.open(\"GET\", url, true);\n        xhr.responseType = 'json';\n        xhr.onload = resolve;\n        xhr.onerror = reject;\n        xhr.send();\n        this._lastXhr = xhr;\n      });\n    }\n\n\n    /**\n     * generates a string of the given length\n     *\n     * @param {Number} length\n     */\n    _makeSalt (length) {\n      let text = \"\";\n      let possible = \"ABCD/EFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n      for( let i=0; i < length; i++ )\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\n      return text;\n    }\n\n\n    /**\n     * ping given url to detect api version\n     *\n     * @param {String} url\n     */\n    _fishVersion (url) {\n      return new Promise((resolve, reject) => {\n        this._xhr(url + '/rest/ping.view?f=json').then((e) => {\n          let res = e.target.response['subsonic-response'];\n          resolve(res.version);\n        }, reject);\n      });\n    }\n\n\n    /**\n     * compare 2 api versions ** I did not write this function **\n     */\n    _versionCompare (v1, v2, options) {\n      let lexicographical = options && options.lexicographical,\n        zeroExtend = options && options.zeroExtend,\n        v1parts = v1.split('.'),\n        v2parts = v2.split('.');\n      function isValidPart(x) {\n        return (lexicographical ? /^\\d+[A-Za-z]*$/ : /^\\d+$/).test(x);\n      }\n      if (!v1parts.every(isValidPart) || !v2parts.every(isValidPart)) {\n        return NaN;\n      }\n      if (zeroExtend) {\n        while (v1parts.length < v2parts.length) v1parts.push(\"0\");\n        while (v2parts.length < v1parts.length) v2parts.push(\"0\");\n      }\n      if (!lexicographical) {\n        v1parts = v1parts.map(Number);\n        v2parts = v2parts.map(Number);\n      }\n      for (let i = 0; i < v1parts.length; ++i) {\n        if (v2parts.length == i) {\n          return 1;\n        }\n        if (v1parts[i] == v2parts[i]) {\n          continue;\n        }\n        else if (v1parts[i] > v2parts[i]) {\n          return 1;\n        }\n        else {\n          return -1;\n        }\n      }\n      if (v1parts.length != v2parts.length) {\n        return -1;\n      }\n      return 0;\n    }\n\n\n    /**\n     * Get details about the user, including which authorization roles and folder access it has.\n     * Can be used to enable/disable certain features in the client, such as jukebox control.\n     */\n    getUserInfo () {\n      return new Promise((resolve, reject) => {\n        let url = this._buildUrl('getUser', {\n          username: this._user\n        });\n        this._xhr(url).then(e => {\n          this.userPermissions = e.target.response['subsonic-response'].user;\n          resolve(this.userPermissions);\n        })\n      });\n    }\n\n\n    /**\n     * abort the last api call\n     */\n    abort () {\n      if (this._lastXhr) {\n        this._lastXhr.abort();\n      }\n    }\n\n\n    /**\n     * Used to test connectivity with the server. Takes no extra parameters.\n     */\n    ping () {\n      return new Promise((resolve, reject) => {\n        let url = this._buildUrl('ping');\n        this._xhr(url).then(e => {\n          let res = e.target.response['subsonic-response'];\n          resolve(res);\n        }, (e) => {\n          reject(e);\n        });\n      });\n    }\n\n    /**\n     *  without ID: Returns all playlists a user is allowed to play.\n     * with ID: Returns a listing of files in a saved playlist.\n     *\n     * @param {Number} id\n     */\n    getPlaylist (id) {\n      return new Promise((resolve, reject) => {\n        let url = this._buildUrl((() => {\n          if (id) {\n            return 'getPlaylist';\n          } else {\n            return 'getPlaylists';\n          }\n        })(), (() => {\n          if (id) {\n            return {\n              id: id\n            };\n          } else {\n            return {};\n          }\n        })());\n        this._xhr(url).then(e => {\n          let res = e.target.response['subsonic-response'].playlists;\n          resolve((() => {\n            if (res.hasOwnProperty('playlist')) {\n              return res.playlist;\n            } else {\n              return [];\n            }\n          })());\n        }, reject);\n      });\n    }\n\n\n    /**\n     * Returns all configured top-level music folders. Takes no extra parameters.\n     */\n    getMusicFolders () {\n      return new Promise((resolve, reject) => {\n        let url = this._buildUrl('getMusicFolders');\n        this._xhr(url).then(e => {\n          let res = e.target.response['subsonic-response'].musicFolders.musicFolder;\n          resolve(res);\n        }, reject);\n      });\n    }\n\n\n    /**\n     * Returns an indexed structure of all artists.\n     *\n     * @param {Number} id\n     */\n    getIndexes (id) {\n      return new Promise((resolve, reject) => {\n        let url = this._buildUrl('getIndexes', (id => {\n          if (id) {\n            return {\n              musicFolderId: id\n            };\n          } else {\n            return;\n          }\n        })(id));\n        this._xhr(url).then(e => {\n          let res =  e.target.response['subsonic-response'].indexes.index;\n          resolve(res);\n        }, reject);\n      });\n    }\n\n\n    /**\n     * Returns a listing of all files in a music directory.\n     * Typically used to get list of albums for an artist, or list of songs for an album.\n     *\n     * @param {Number} id\n     */\n    getMusicDirectory (id) {\n      return new Promise((resolve, reject) => {\n        if (!id) {\n          throw new Error('id required');\n          return;\n        }\n        let url = this._buildUrl('getMusicDirectory', {\n          id: id\n        });\n        this._xhr(url).then(e => {\n          let res = e.target.response['subsonic-response'].directory;\n          resolve(res);\n        }, reject);\n      });\n    }\n\n\n    /**\n     * without id: Similar to getIndexes, but organizes music according to ID3 tags.\n     * with id: Returns details for an artist, including a list of albums. This method organizes music according to ID3 tags.\n     *\n     * @param {Number} id\n     */\n    getArtist (id) {\n      return new Promise((resolve, reject) => {\n        let url = this._buildUrl((id => {\n          if (id) {\n            return 'getArtist';\n          } else {\n            return 'getArtists';\n          }\n        })(id), (id => {\n          if (id) {\n            return {\n              id: id\n            };\n          } else {\n            return;\n          }\n        })(id));\n        this._xhr(url).then(e => {\n          let res = ((id, e) => {\n            if (id) {\n              let res = e.target.response['subsonic-response'].artist;\n              res.album.sort(function sorting(a, b) {\n                return a.discNumber - b.discNumber || a.track - b.track;\n              });\n              return res;\n            } else {\n              return e.target.response['subsonic-response'].artists.index;\n            }\n          })(id, e);\n          resolve(res);\n        });\n      });\n    }\n\n\n    /**\n     * Streams a given media file.\n     *\n     * @param {Number} id\n     * @param {Number} bitRate\n     */\n    streamUrl (id, bitRate) {\n      return this._buildUrl('stream', {\n        id: id,\n        maxBitRate: bitRate || 320,\n        estimateContentLength: true\n      });\n    }\n\n\n    /**\n     * Downloads a given media file.\n     * Similar to stream, but this method returns the original media data without transcoding or downsampling.\n     *\n     * @param {Number} id\n     */\n    downloadUrl (id) {\n      if (!id) {\n        throw new Error('id required');\n        return;\n      }\n      return this._buildUrl('download', {\n        id: id\n      });\n    }\n\n\n    /**\n     * Returns top songs for the given artist, using data from last.fm.\n     *\n     * @param {Number} count\n     * @param {String} artist\n     */\n    getTopSongs (artist, count) {\n      return new Promise((resolve, reject) => {\n        if (!artist) throw new Error('artist name is required');\n        let url = this._buildUrl('getTopSongs', {\n          count: count || 50,\n          artist: artist\n        });\n        this._xhr(url).then(e => {\n          let res = e.target.response['subsonic-response'].topSongs.song;\n          resolve(res);\n        }, reject);\n      });\n    }\n\n    /**\n     * Returns all genres.\n     */\n    getGenres () {\n      return new Promise((resolve, reject) => {\n        let url = this._buildUrl('getGenres');\n        this._xhr(url).then(e => {\n          let res = e.target.response['subsonic-response'].genres.genre;\n          resolve(res);\n        }, reject);\n      });\n    }\n\n\n    /**\n     * Returns details for an album, including a list of songs.\n     * This method organizes music according to ID3 tags.\n     *\n     * @param {Number} id\n     */\n    getAlbum (id) {\n      return new Promise((resolve, reject) => {\n        if (!id) {\n          throw new Error('id required');\n          return;\n        }\n        let url = this._buildUrl('getAlbum', {\n          id: id\n        });\n        this._xhr(url).then(e => {\n          let res = e.target.response['subsonic-response'].album;\n          resolve(res);\n        }, reject);\n      });\n    }\n\n\n    /**\n     * Returns a list of random, newest, highest rated etc. albums.\n     * Similar to the album lists on the home page of the Subsonic web interface.\n     *\n     * @param {String} sort\n     * @param {Number} count\n     * @param {Number} offset\n     * @param {Number} folderId\n     */\n    getAlbumList (sort, count, offset, folderId) {\n      return new Promise((resolve, reject) => {\n        if (sort) {\n          let reqObj = {\n            size: count || 60,\n            offset: offset || 0,\n            type: sort\n          };\n          if (folderId) reqObj.musicFolderId = folderId;\n          let url = this._buildUrl('getAlbumList', reqObj);\n          this._xhr(url).then(e => {\n            let res = e.target.response['subsonic-response'].albumList.album;\n            resolve(res);\n          }, reject);\n        } else {\n          throw new Error('sort method required');\n        }\n\n      });\n    }\n\n\n    /**\n     * Similar to getAlbumList, but organizes music according to ID3 tags.\n     *\n     * @param {String} sort\n     * @param {Number} count\n     * @param {Number} offset\n     * @param {Number} folderId\n     */\n    getAlbumList2 (sort, count, offset, folderId) {\n      return new Promise((resolve, reject) => {\n        if (sort) {\n          let reqObj = {\n            size: count || 60,\n            offset: offset || 0,\n            type: sort\n          };\n          if (folderId) reqObj.musicFolderId = folderId;\n          let url = this._buildUrl('getAlbumList2', reqObj);\n          this._xhr(url).then(e => {\n            let res = e.target.response['subsonic-response'].albumList2.album;\n            resolve(res);\n          }, reject);\n        } else {\n          throw new Error('sort method required');\n        }\n      });\n    }\n\n\n    /**\n     *  Returns artist info with biography, image URLs and similar artists, using data from last.fm.\n     *\n     * @param {Number} id\n     * @param {Number} count\n     */\n    getArtistInfo (id, count) {\n      return new Promise((resolve, reject) => {\n        if (!id) {\n          throw new Error('id required');\n          return;\n        }\n        let url = this._buildUrl('getArtistInfo', {\n          id: id,\n          count: count || 60\n        });\n        this._xhr(url).then(e => {\n          let res = e.target.response['subsonic-response'].artistInfo;\n          resolve(res);\n        }, reject);\n      });\n    }\n\n\n    /**\n     * Similar to getArtistInfo, but organizes music according to ID3 tags.\n     *\n     * @param {Number} id\n     * @param {Number} count\n     */\n    getArtistInfo2 (id, count) {\n      return new Promise((resolve, reject) => {\n        if (!id) {\n          throw new Error('id required');\n          return;\n        };\n        let url = this._buildUrl('getArtistInfo2', {\n          id: id,\n          count: count || 60\n        });\n        this._xhr(url).then(e => {\n          let res = e.target.response['subsonic-response'].artistInfo2;\n          resolve(res);\n        }, reject);\n      });\n    }\n\n\n    /**\n     *  Returns a random collection of songs from the given artist and similar artists, using data from last.fm.\n     *  Typically used for artist radio features.\n     *\n     * @param {Number} id\n     * @param {Number} count\n     */\n    getSimilarSongs (id, count) {\n      return new Promise((resolve, reject) => {\n        if (!id) {\n          throw new Error('id required');\n          return;\n        }\n        let url = this._buildUrl('getSimilarSongs', {\n          id: id,\n          count: count || 60\n        });\n        this._xhr(url).then(e => {\n          let res = e.target.response['subsonic-response'].similarSongs;\n          resolve(res);\n        }, reject);\n      });\n    }\n\n\n    /**\n     * Similar to getSimilarSongs, but organizes music according to ID3 tags.\n     *\n     * @param {Number} id\n     * @param {Number} count\n     */\n    getSimilarSongs2 (id, count) {\n      return new Promise((resolve, reject) => {\n        if (!id) {\n          throw new Error('id required');\n          return;\n        }\n        let url = this._buildUrl('getSimilarSongs2', {\n          id: id,\n          count: count || 60\n        });\n        this._xhr(url).then(e => {\n          let res = e.target.response['subsonic-response'].similarSongs2;\n          resolve(res);\n        }, reject);\n      });\n    }\n\n\n    /**\n     * Returns details for a song.\n     *\n     * @param {Number} id\n     */\n    getSong (id) {\n      return new Promise((resolve, reject) => {\n        if (!id) {\n          throw new Error('id required');\n          return;\n        }\n        let url = this._buildUrl('getSong', {\n          id: id\n        });\n        this._xhr(url).then(e => {\n          let res = e.target.response['subsonic-response'];\n          resolve(res);\n        }, reject);\n      });\n    }\n\n\n    /**\n     * Returns starred songs, albums and artists.\n     */\n    getStarred (folderId) {\n      return new Promise((resolve, reject) => {\n        let url = this._buildUrl('getStarred', (() => {\n          if (folderId) {\n            return {\n              musicFolderId: folderId            \n            };                  \n          } else {\n            return;                       \n          }\n        })());\n        this._xhr(url).then(e => {\n          let res = e.target.resolve['subsonic-response'].starred;\n          resolve(res);\n        }, reject);\n      });\n    }\n\n\n    /**\n     * Similar to getStarred, but organizes music according to ID3 tags.\n     */\n    getStarred2 (folderId) {\n      return new Promise((resolve, reject) => {\n        let url = this._buildUrl('getStarred2', (() => {\n          if (folderId) {\n            return {\n              musicFolderId: folderId            \n            };                  \n          } else {\n            return;                       \n          }\n        })());\n        this._xhr(url).then(e => {\n          let res = e.target.resolve['subsonic-response'].starred2;\n          resolve(res);\n        }, reject);\n      });\n    }\n  }\n\n  return SubsonicAPI;\n})();\n\n"]}